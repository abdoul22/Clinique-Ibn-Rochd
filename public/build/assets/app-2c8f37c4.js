"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js",{scope:"/"}).then(t=>{console.log("Service Worker registered successfully:",t.scope)}).catch(t=>{console.log("Service Worker registration failed:",t)})});function d(){const t=localStorage.getItem("theme")==="dark";t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const o=document.getElementById("darkmode-icon"),e=document.getElementById("darkmode-label");o&&(o.textContent=t?"‚òÄÔ∏è":"üåô"),e&&(e.textContent=t?"Mode clair":"Mode sombre")}function s(){document.querySelectorAll("table").forEach(e=>{if(e.classList.contains("table-main"))return;e.classList.add("w-full","text-sm","text-left","text-gray-900","dark:text-gray-100");const r=e.querySelector("thead");r&&(r.classList.add("bg-gray-50","dark:bg-gray-700","text-gray-700","dark:text-gray-300"),r.querySelectorAll("th").forEach(n=>{n.classList.add("py-3","px-4","font-medium")}));const a=e.querySelector("tbody");a&&(a.classList.add("divide-y","divide-gray-100","dark:divide-gray-600"),a.querySelectorAll("tr").forEach(n=>{n.classList.add("hover:bg-gray-50","dark:hover:bg-gray-700","transition-colors","duration-200"),n.querySelectorAll("td").forEach(i=>{i.classList.add("py-4","px-4","text-gray-900","dark:text-gray-100")})}))}),document.querySelectorAll(".overflow-x-auto, .bg-white").forEach(e=>{e.querySelector("table")&&!e.classList.contains("table-container")&&e.classList.add("bg-white","dark:bg-gray-800","rounded-xl","shadow-sm","overflow-hidden","border","border-gray-200","dark:border-gray-700")})}window.toggleDarkMode=function(){const o=document.documentElement.classList.toggle("dark");localStorage.setItem("theme",o?"dark":"light");const e=document.getElementById("darkmode-icon"),r=document.getElementById("darkmode-label");e&&(e.textContent=o?"‚òÄÔ∏è":"üåô"),r&&(r.textContent=o?"Mode clair":"Mode sombre"),setTimeout(s,100)};d();document.addEventListener("DOMContentLoaded",function(){d(),s(),new MutationObserver(function(o){o.forEach(function(e){e.type==="attributes"&&e.attributeName==="class"&&setTimeout(s,100)})}).observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})});window.addEventListener("popstate",function(){setTimeout(function(){d(),s()},100)});typeof window.MutationObserver<"u"&&new MutationObserver(function(o){let e=!1;o.forEach(function(r){r.type==="childList"&&r.addedNodes.length>0&&r.addedNodes.forEach(function(a){a.nodeType===1&&(a.tagName==="TABLE"||a.querySelector("table"))&&(e=!0)})}),e&&setTimeout(s,100)}).observe(document.body,{childList:!0,subtree:!0});
